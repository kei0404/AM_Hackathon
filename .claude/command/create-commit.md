---
description: ローカルプロジェクトの変更をステージングし、適切なコミットメッセージを生成してコミットするためのコマンドです。git statusとgit diffで変更内容を確認し、Conventional Commits形式に従ったコミットメッセージを生成してコミットを実行します。必要に応じてリモートへのプッシュも行います。
allowed-tools:
  - run_terminal_cmd
  - functions.read_file
  - functions.grep
---

このコマンドは、ローカルプロジェクトの変更をステージングし、適切なコミットメッセージを生成してコミットします。

## 実行手順
### 1. 変更ファイルの確認
まず、現在の変更状況を確認します：

```
cd ~/"プロジェクトルート"
git status
```

### 2. 差分の確認
変更内容の詳細を確認します：

`git diff`

### 3. コミットメッセージの生成
変更内容に基づいて、以下の形式でコミットメッセージを生成します：

フォーマット:
```
<type>: <簡潔な説明>

<詳細な説明（必要に応じて）>

変更内容:
- <変更点1>
- <変更点2>
- <変更点3>
```

Type の種類:
- feat: 新機能追加
- fix: バグ修正
- docs: ドキュメント変更
- style: コードフォーマット、セミコロン追加など
- refactor: リファクタリング
- test: テスト追加・修正
- chore: ビルドプロセス、補助ツールの変更

### 4. ファイルのステージング
変更ファイルをステージングします：

`git add <ファイル名>`

または、すべての変更をステージング：

`git add .`

### 5. コミット実行
生成したメッセージでコミットします：

`git commit -m "<コミットメッセージ>"`

### 6. リモートへのプッシュ（オプション）
必要に応じてリモートにプッシュします：

`git push origin <ブランチ名>`

### コミットメッセージ例
例1: 機能追加
```
feat: FAQ検索データページとFAQデータ登録機能を要件定義に追加

Custom Question Answering用のFAQデータ登録機能を含む
包括的な要件定義にアップデートしました。

変更内容:
- User Story 3: FAQデータ登録機能を追加（Priority: P3）
- Functional Requirements: FR-015A～FR-015Gを追加
- UI Requirements: FAQ登録画面（UI-003A）を追加
- Success Criteria: FAQ登録のパフォーマンスと品質基準を追加
- ナビゲーションバーに「FAQ登録」タブを追加
```

例2: ドキュメント更新
```
docs: 仕様書にAzure AI Search用途別インデックス説明を追加

FAQ専用インデックスとRAG用インデックスの違いを明確化しました。

変更内容:
- FAQ専用インデックス（AZURE_SEARCH_FAQ_INDEX_NAME）の説明追加
- RAG用インデックス（AZURE_SEARCH_INDEX_NAME）の説明追加
- Key Entitiesセクションを更新
```

例3: バグ修正
```
fix: ファイルプレビュー機能をサーバー経由配信に変更

Azure Blob Storageの公開アクセス制限に対応。

変更内容:
- API: Content-Type自動検出とinline dispositionサポート追加
- テンプレート: Blob URL直接参照からサーバーエンドポイント使用に変更
- ルート順序: 特定パスを汎用パスより前に配置
```

## 注意事項
- コミット前に必ず `git status` と `git diff` で変更内容を確認
- コミットメッセージは日本語で記述（英語も可）
- 1つのコミットには関連する変更のみを含める
- 大きな変更は複数のコミットに分割する
- センシティブな情報（パスワード、APIキーなど）が含まれていないか確認
- コミット後の応答文は日本語で返す。